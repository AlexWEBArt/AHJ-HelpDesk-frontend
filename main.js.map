{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-helpdesk-frontend/webpack/bootstrap","webpack://ahj-helpdesk-frontend/webpack/runtime/publicPath","webpack://ahj-helpdesk-frontend/./src/img/cell.jpg","webpack://ahj-helpdesk-frontend/./src/js/Tooltip.js","webpack://ahj-helpdesk-frontend/./src/img/update.png","webpack://ahj-helpdesk-frontend/./src/js/Popup.js","webpack://ahj-helpdesk-frontend/./src/js/openDeletModal.js","webpack://ahj-helpdesk-frontend/./src/js/app.js","webpack://ahj-helpdesk-frontend/./src/js/Storage.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.p = \"\";","export default __webpack_public_path__ + \"assets/253f7b15dd6eb9ac37984ada287333f9.jpg\";","export default class Tooltip {\n  constructor() {\n    this._tooltips = [];\n  }\n\n  showTooltip(message, element) {\n    const tooltipElement = document.createElement('DIV');\n\n    tooltipElement.classList.add('form-error');\n    tooltipElement.textContent = message;\n\n    const id = performance.now();\n\n    this._tooltips.push({\n      id,\n      element: tooltipElement,\n    });\n\n    document.body.appendChild(tooltipElement);\n\n    const { right, top } = element.getBoundingClientRect();\n\n    tooltipElement.style.left = `${right + 5}px`;\n    tooltipElement.style.top = `${top + element.offsetHeight / 2 - tooltipElement.offsetHeight / 2}px`;\n    return id;\n  }\n\n  removeTooltip(id) {\n    const tooltip = this._tooltips.find((t) => t.id === id);\n\n    if (tooltip) {\n      tooltip.element.remove();\n    }\n\n    this._tooltips = this._tooltips.filter((t) => t.id !== id);\n  }\n\n  removeAllTooltip() {\n    this._tooltips.forEach((item) => item.element.remove());\n    this._tooltips = [];\n  }\n}\n","export default __webpack_public_path__ + \"assets/0423e9054bbc9277b0347f38f82b6921.png\";","import Tooltip from './Tooltip';\nimport openDeletModal from './openDeletModal';\nimport edit from '../img/update.png';\n\nexport default class Popup {\n  constructor(storage) {\n    this.container = null;\n    this.input = document.querySelector('.input_name');\n    this.textArea = document.querySelector('.textarea_description');\n    this.update = false;\n    this.updateTicket = null;\n    this.tooltipFactory = new Tooltip();\n    this.storage = storage;\n    this.data = this.storage.load();\n  }\n\n  openPopup(container) {\n    if (!(container instanceof HTMLElement)) {\n      throw new Error('container is not HTMLElement');\n    }\n\n    this.container = container;\n    if (!document.querySelector('.popup_container')) {\n      const containerPopup = document.createElement('DIV');\n      const formPopup = document.createElement('FORM');\n      const popupControlName = document.createElement('DIV');\n      const paragraphName = document.createElement('P');\n      const inputName = document.createElement('INPUT');\n      const popupDescription = document.createElement('DIV');\n      const paragraphDescription = document.createElement('P');\n      const textAreaDescription = document.createElement('TEXTAREA');\n      const containerBtn = document.createElement('DIV');\n      const btnCancel = document.createElement('BUTTON');\n      const btnSave = document.createElement('BUTTON');\n\n      formPopup.classList.add('form_popup');\n      formPopup.setAttribute('novalidate', true);\n      formPopup.method = 'POST';\n      formPopup.action = 'http://localhost:7070';\n      containerPopup.classList.add('popup_container');\n      popupControlName.classList.add('popup-control');\n      popupDescription.classList.add('popup-control');\n      paragraphName.classList.add('Input_text');\n      paragraphName.textContent = 'Краткое описание';\n      paragraphDescription.classList.add('Input_text');\n      paragraphDescription.textContent = 'Подробное описание';\n      inputName.classList.add('input_name');\n      inputName.setAttribute('required', true);\n      inputName.name = 'name';\n      textAreaDescription.classList.add('textarea_description');\n      textAreaDescription.setAttribute('required', true);\n      textAreaDescription.name = 'description';\n\n      containerBtn.classList.add('popup-btn');\n      btnCancel.classList.add('btn');\n      btnCancel.classList.add('btn_cancel');\n      btnCancel.textContent = 'Отмена';\n\n      btnSave.classList.add('btn');\n      btnSave.classList.add('btn_save');\n      btnSave.textContent = 'Сохранить';\n\n      document.body.appendChild(containerPopup);\n      containerPopup.prepend(formPopup);\n\n      containerBtn.prepend(btnCancel);\n      containerBtn.prepend(btnSave);\n      formPopup.prepend(containerBtn);\n\n      popupDescription.prepend(textAreaDescription);\n      popupDescription.prepend(paragraphDescription);\n      formPopup.prepend(popupDescription);\n\n      popupControlName.prepend(inputName);\n      popupControlName.prepend(paragraphName);\n      formPopup.prepend(popupControlName);\n\n      btnCancel.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        this.updateTicket = null;\n        this.update = false;\n        Popup.closePopup();\n      });\n\n      let actualMessages = [];\n\n      const showTooltip = (message, el) => {\n        actualMessages.push({\n          name: el.name,\n          id: this.tooltipFactory.showTooltip(message, el),\n        });\n      };\n\n      formPopup.addEventListener('submit', (e) => {\n        e.preventDefault();\n\n        actualMessages.forEach((message) => this.tooltipFactory.removeTooltip(message.id));\n        actualMessages = [];\n\n        if (formPopup.checkValidity()) {\n          if (!this.update) {\n            this.saveInputNote();\n            Popup.closePopup();\n          }\n          if (this.update) {\n            this.updateNote();\n            Popup.closePopup();\n          }\n        } else {\n          const { elements } = formPopup;\n\n          [...elements].forEach((elem) => {\n            const error = Popup.getError(elem);\n\n            if (error) {\n              showTooltip(error, elem);\n            }\n          });\n        }\n      });\n\n      const elementOnBlur = (e) => {\n        const el = e.target;\n\n        const error = Popup.getError(el);\n        if (error) {\n          showTooltip(error, el);\n        } else {\n          const currentErrorMessage = actualMessages.find((item) => item.name === el.name);\n\n          if (currentErrorMessage) {\n            this.tooltipFactory.removeTooltip(currentErrorMessage.id);\n          }\n        }\n\n        el.removeEventListener('blur', elementOnBlur);\n      };\n\n      Array.from(formPopup.elements).forEach((el) => el.addEventListener('focus', () => {\n        el.addEventListener('blur', elementOnBlur);\n      }));\n    }\n  }\n\n  renderingNote(item) {\n    const editor = document.querySelector('.list_editor_container');\n    const listEditor = document.createElement('UL');\n    const liStatus = document.createElement('LI');\n    const statusBox = document.createElement('DIV');\n    const liName = document.createElement('LI');\n    const paragraphName = document.createElement('P');\n    const paragraphDescription = document.createElement('P');\n    const liCreated = document.createElement('LI');\n    const paragraphCreated = document.createElement('P');\n    const liActionEdit = document.createElement('LI');\n    const btnUpdate = document.createElement('IMG');\n    const btnDelete = document.createElement('DIV');\n\n    listEditor.classList.add('list_editor');\n    listEditor.setAttribute('id', item.id);\n    liStatus.classList.add('status');\n    statusBox.classList.add('ticket_status');\n    statusBox.setAttribute('status', item.status);\n    if (statusBox.getAttribute('status') === 'true') {\n      statusBox.textContent = '\\u2713';\n    }\n\n    liName.classList.add('name');\n    paragraphName.classList.add('name_title');\n    paragraphDescription.classList.add('description');\n    paragraphDescription.classList.add('display_none');\n\n    liCreated.classList.add('created');\n    paragraphCreated.classList.add('date_of_creation');\n    liActionEdit.classList.add('action_edit');\n    btnUpdate.classList.add('btn_update_img');\n    btnDelete.classList.add('btn_delete');\n\n    paragraphName.textContent = item.name;\n    // paragraphDescription.textContent = item.description;\n    paragraphCreated.textContent = item.created;\n    btnUpdate.src = edit;\n    btnDelete.textContent = 'x';\n\n    editor.appendChild(listEditor);\n    liActionEdit.prepend(btnDelete);\n    liActionEdit.prepend(btnUpdate);\n    listEditor.prepend(liActionEdit);\n    liCreated.prepend(paragraphCreated);\n    listEditor.prepend(liCreated);\n    liName.prepend(paragraphDescription);\n    liName.prepend(paragraphName);\n    listEditor.prepend(liName);\n    liStatus.prepend(statusBox);\n    listEditor.prepend(liStatus);\n\n    btnUpdate.addEventListener('click', (e) => {\n      console.log(e);\n      this.updateTicket = btnUpdate.closest('.list_editor');\n      this.preUpdateNote(this.updateTicket);\n      this.activEvent = e.target;\n    });\n    btnDelete.addEventListener('click', () => {\n      console.log(btnDelete.closest('.list_editor'));\n      openDeletModal(btnDelete.closest('.list_editor'));\n    });\n\n    statusBox.addEventListener('click', () => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.open('POST', 'https://helpdesk-backend-rxb4.onrender.com/statusChanged');\n\n      xhr.send(statusBox.closest('.list_editor').getAttribute('id'));\n\n      if (statusBox.textContent === '') {\n        statusBox.textContent = '\\u2713';\n        statusBox.setAttribute('status', 'true');\n        // this.storage.statusChange(statusBox.closest('.list_editor').getAttribute('id'), true);\n      } else {\n        statusBox.textContent = '';\n        statusBox.setAttribute('status', 'false');\n        // this.storage.statusChange(statusBox.closest('.list_editor').getAttribute('id'), false);\n      }\n    });\n\n    liName.addEventListener('click', () => {\n      if (paragraphDescription.classList.contains('display_none')) {\n        const xhr = new XMLHttpRequest();\n\n        xhr.open('POST', 'https://helpdesk-backend-rxb4.onrender.com/ticketById');\n        console.log(liName.closest('.list_editor').getAttribute('id'));\n        xhr.send(liName.closest('.list_editor').getAttribute('id'));\n\n        xhr.addEventListener('load', () => {\n          const description = JSON.parse(xhr.responseText);\n          paragraphDescription.textContent = description;\n        });\n        paragraphDescription.classList.remove('display_none');\n      } else {\n        paragraphDescription.classList.add('display_none');\n      }\n    });\n  }\n\n  static getError(el) {\n    const errors = {\n      name: {\n        valueMissing: 'Заполните, пожалуйста, поле \"Краткое описание\"',\n      },\n      description: {\n        valueMissing: 'Заполните, пожалуйста, поле \"Подробное описание\"',\n      },\n    };\n\n    const errorKey = Object.keys(ValidityState.prototype).find((key) => {\n      if (!el.name) return null;\n      if (key === 'valid') return null;\n\n      return el.validity[key];\n    });\n\n    if (!errorKey) return null;\n\n    return errors[el.name][errorKey];\n  }\n\n  static getCreationDate() {\n    const date = new Date();\n    let dateHours = date.getHours();\n    let dateMinutes = date.getMinutes();\n    let dateDay = date.getDate();\n    let dateMonth = date.getMonth() + 1;\n    if (dateHours < 10) {\n      dateHours = `0${dateHours}`;\n    }\n    if (dateMinutes < 10) {\n      dateMinutes = `0${dateMinutes}`;\n    }\n    if (dateDay < 10) {\n      dateDay = `0${dateDay}`;\n    }\n    if (dateMonth < 10) {\n      dateMonth = `0${dateMonth}`;\n    }\n    return `${dateDay}.${dateMonth}.${date.getFullYear()} ${dateHours}:${dateMinutes}`;\n  }\n\n  static closePopup() {\n    document.querySelectorAll('.form-error').forEach((item) => item.remove());\n    document.querySelector('.popup_container').remove();\n  }\n\n  saveInputNote() {\n    const inputName = document.querySelector('.input_name');\n    const textAreaDescription = document.querySelector('.textarea_description');\n\n    if (this.data === null) {\n      this.data = {};\n    }\n\n    // const id = performance.now();\n    // this.data[id] = {};\n    // this.data[id].id = id;\n    // this.data[id].name = inputName.value;\n    // this.data[id].description = textAreaDescription.value;\n    // this.data[id].status = false;\n    // this.data[id].created = Popup.getCreationDate();\n\n    const body = {\n      name: inputName.value,\n      description: textAreaDescription.value,\n    };\n\n    // for (let key of Object.keys(this.data[id])) {\n    //   body.push(key + \" & \" + encodeURIComponent(this.data[id][key]))\n    // }\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState !== 4) return;\n\n      console.log(xhr.responseText);\n    };\n\n    xhr.open('PUT', 'https://helpdesk-backend-rxb4.onrender.com/createNewTicket');\n\n    xhr.send(JSON.stringify(body));\n\n    xhr.addEventListener('load', () => {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        try {\n          const data = JSON.parse(xhr.responseText);\n          this.renderingNote(data);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    });\n\n    // this.storage.save(this.data);\n  }\n\n  preUpdateNote(listEditor) {\n    this.openPopup(document.querySelector('.app_container'));\n    const actualId = listEditor.closest('.list_editor').getAttribute('id');\n\n    const inputName = document.querySelector('.input_name');\n    const textAreaDescription = document.querySelector('.textarea_description');\n\n    inputName.value = listEditor.querySelector('.name_title').textContent;\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState !== 4) return;\n\n      console.log(xhr.responseText);\n    };\n\n    xhr.open('POST', 'https://helpdesk-backend-rxb4.onrender.com/ticketById');\n\n    xhr.send(actualId);\n\n    xhr.addEventListener('load', () => {\n      textAreaDescription.value = JSON.parse(xhr.responseText);\n    });\n\n    // textAreaDescription.value = listEditor.querySelector('.description').textContent;\n\n    this.update = true;\n  }\n\n  updateNote() {\n    const actualId = this.updateTicket.closest('.list_editor').getAttribute('id');\n\n    const inputName = document.querySelector('.input_name');\n    const textAreaDescription = document.querySelector('.textarea_description');\n\n    const name = this.updateTicket.closest('.list_editor').querySelector('.name_title');\n    const description = this.updateTicket.closest('.list_editor').querySelector('.description');\n\n    // this.data[actualId].name = name.textContent;\n    // this.data[actualId].description = description.textContent;\n\n    const xhr = new XMLHttpRequest();\n\n    const body = {\n      id: actualId,\n      name: inputName.value,\n      description: textAreaDescription.value,\n    };\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState !== 4) return;\n\n      console.log(xhr.responseText);\n    };\n\n    xhr.open('PATCH', 'https://helpdesk-backend-rxb4.onrender.com/updateTicket');\n\n    xhr.send(JSON.stringify(body));\n\n    xhr.addEventListener('load', () => {\n      name.textContent = JSON.parse(xhr.responseText).name;\n      description.textContent = JSON.parse(xhr.responseText).description;\n    });\n\n    // this.storage.save(this.data);\n\n    this.update = false;\n  }\n}\n","// import Storage from './Storage';\n\nexport default function openDeletModal(ticket) {\n  const modal = document.createElement('DIV');\n  const containerModal = document.createElement('DIV');\n  const modalHeader = document.createElement('H1');\n  const modalParagraph = document.createElement('P');\n\n  const containerBtn = document.createElement('DIV');\n  const btnCancel = document.createElement('BUTTON');\n  const btnAgree = document.createElement('BUTTON');\n\n  modal.classList.add('popup_container');\n  modalParagraph.classList.add('Input_text');\n  modalHeader.textContent = 'Удалить тикет';\n  modalParagraph.textContent = 'Вы уверены, что хотите удалить тикет? Это действие необратимо.';\n\n  containerBtn.classList.add('popup-btn');\n  btnCancel.classList.add('btn');\n  btnCancel.classList.add('btn_cancel');\n  btnCancel.textContent = 'Отмена';\n\n  btnAgree.classList.add('btn');\n  btnAgree.textContent = 'Ok';\n\n  document.body.appendChild(modal);\n  modal.prepend(containerModal);\n\n  containerBtn.prepend(btnAgree);\n  containerBtn.prepend(btnCancel);\n  containerModal.prepend(containerBtn);\n\n  containerModal.prepend(modalParagraph);\n  containerModal.prepend(modalHeader);\n\n  btnCancel.addEventListener('click', () => document.querySelector('.popup_container').remove());\n\n  btnAgree.addEventListener('click', () => {\n    // new Storage().removeTicket(ticket.getAttribute('id'));\n    const xhr = new XMLHttpRequest();\n\n    const deletedTicketId = ticket.getAttribute('id');\n\n    xhr.open('DELETE', `https://helpdesk-backend-rxb4.onrender.com/deleteTicket/?id=${deletedTicketId}`);\n\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n    xhr.send();\n\n    xhr.addEventListener('load', () => {\n      console.log(JSON.parse(xhr.responseText));\n    });\n\n    ticket.remove();\n    document.querySelector('.popup_container').remove();\n  });\n}\n","// TODO: write code here\n\nimport background from '../img/cell.jpg';\nimport Storage from './Storage';\nimport Popup from './Popup';\n\nconst storage = new Storage();\n// storage.clear()\n// const dataBase = storage.load();\n\ndocument.querySelector('body').style.backgroundImage = `url(${background})`;\n\nconst popup = new Popup(storage);\n// const renderingNote = new RenderingNote(storage, popup);\n\nconst containerPopup = document.querySelector('.app_container');\nconst btnAdd = document.querySelector('.btn_add');\n\nconst xhr = new XMLHttpRequest();\n\nxhr.open('GET', 'https://helpdesk-backend-rxb4.onrender.com/allTickets');\nxhr.withCredentials = false;\nxhr.send();\n\nxhr.addEventListener('load', () => {\n  if (xhr.status >= 200 && xhr.status < 300) {\n    try {\n      const data = JSON.parse(xhr.responseText);\n\n      if (data !== null) {\n        for (const key in data) {\n          if (!Object.prototype.hasOwnProperty.call(data, 'key')) {\n            popup.renderingNote(data[key]);\n          }\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n});\n\n// if (dataBase !== null) {\n//   for (const key in dataBase) {\n//     if (!Object.prototype.hasOwnProperty.call(dataBase, 'key')) {\n//       renderingNote.action(dataBase[key]);\n//     }\n//   }\n// }\n\nbtnAdd.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  popup.openPopup(containerPopup);\n});\n\nconsole.log('app.js is bunled');\n","export default class Storage {\n  constructor() {\n    this.storage = localStorage;\n  }\n\n  save(data) {\n    this.storage.setItem('data', JSON.stringify(data));\n  }\n\n  load() {\n    try {\n      return JSON.parse(this.storage.getItem('data'));\n    } catch (e) {\n      throw new Error('Invalid data');\n    }\n  }\n\n  statusChange(id, status) {\n    const data = this.load();\n    for (const item in data) {\n      if (item === id) {\n        data[item].status = status;\n      }\n    }\n    this.save(data);\n  }\n\n  removeTicket(id) {\n    const data = this.load();\n    for (const item in data) {\n      if (item === id) {\n        delete data[item];\n      }\n    }\n    this.save(data);\n  }\n}\n"],"names":["__webpack_require__","Tooltip","constructor","this","_tooltips","showTooltip","message","element","tooltipElement","document","createElement","classList","add","textContent","id","performance","now","push","body","appendChild","right","top","getBoundingClientRect","style","left","offsetHeight","removeTooltip","tooltip","find","t","remove","filter","removeAllTooltip","forEach","item","Popup","storage","container","input","querySelector","textArea","update","updateTicket","tooltipFactory","data","load","openPopup","HTMLElement","Error","containerPopup","formPopup","popupControlName","paragraphName","inputName","popupDescription","paragraphDescription","textAreaDescription","containerBtn","btnCancel","btnSave","setAttribute","method","action","name","prepend","addEventListener","e","preventDefault","closePopup","actualMessages","el","checkValidity","saveInputNote","updateNote","elements","elem","error","getError","elementOnBlur","target","currentErrorMessage","removeEventListener","Array","from","renderingNote","editor","listEditor","liStatus","statusBox","liName","liCreated","paragraphCreated","liActionEdit","btnUpdate","btnDelete","status","getAttribute","created","src","edit","console","log","closest","preUpdateNote","activEvent","ticket","modal","containerModal","modalHeader","modalParagraph","btnAgree","xhr","XMLHttpRequest","deletedTicketId","open","setRequestHeader","send","JSON","parse","responseText","openDeletModal","contains","description","static","errorKey","Object","keys","ValidityState","prototype","key","validity","valueMissing","date","Date","dateHours","getHours","dateMinutes","getMinutes","dateDay","getDate","dateMonth","getMonth","getFullYear","querySelectorAll","value","onreadystatechange","readyState","stringify","actualId","localStorage","save","setItem","getItem","statusChange","removeTicket","backgroundImage","background","popup","btnAdd","withCredentials","hasOwnProperty","call"],"sourceRoot":""}